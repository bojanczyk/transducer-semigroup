\section{Proof of~\Cref{thm:reco-reflecting-functions}}
    We prove a slight strenghening of the theorem, which concerns not only string-to-string functions, but also functions $f : A \to B$ between semigroups, not necessarily homomorphisms, such that the target semigroup $B$ is finitely generated.

    \proofsubparagraph{(\ref{it:reco-refl}) $\Rightarrow$ (\ref{it:trans-semig-reco}).}  We  use a similar construction as in the proof of Theorem~\ref{thm:all-functions}. Let  $f :A \to B$  be recognizability reflecting.  Define  a functor as follows: 
    \begin{align*}
        \functor C = A \times \text{(all semigroup homomorphisms of type $B \to C$)}.
    \end{align*}
    Similarly to Theorem~\ref{thm:all-functions}, the semigroup operation on the first coordinate of $\functor C$ is inherited from $A$, and on the second coordinate we use the left zero semigroup structure,  where the product of $g$ and $h$ is $g$.     On morphisms, the functor is defined as in the proof of Theorem~\ref{thm:all-functions}. 

    The output mechanism  is function application with $f$ inserted as an interface i.e.~$(a,g) \mapsto g(f(a))$. We now argue that the output mechanism is a recognizable function. Suppose that $C$ is finite. 
     To prove that the output mechanism is recognizable, we show that the inverse image of every $c \in C$ is a  recognizable subset of $\functor C$. This inverse image is the union, ranging over the finitely many semigroup homomorphisms $g : B \to C$, of sets
    \begin{align*}
    \setbuild {(a,g)}{$g(f(a))=c$}.
    \end{align*}
    Each of these sets is recognizable, by the assumption that $f$ is recognizability reflecting.     By the assumption that $B$ is finitely generated and $C$ IS finite, there are finitely many choices for $g$, and therefore the union is finite. This implies that the inverse image of $c$ is recognizable, as a finite union of recognizable subsets of  $\functor C$.
    
    The transducer semigroup defined above recognizes the function $f$ via the homomorphism $a \in A  \mapsto  (a,\id)$.
    
    
    
\proofsubparagraph{
     (\ref{it:reco-refl}) $\Leftarrow$ (\ref{it:trans-semig-reco}).} Take a function $f : A \to B$ that satisfies~(\ref{it:trans-semig-reco}), i.e.~it is a composition 
\begin{align*}
    A \xrightarrow[\;h\;]{} \functor B \xrightarrow[\;\outfun_B\;]{} B
\end{align*}
%\[\begin{tikzcd}
%    [column sep=2cm]
%	A & {\functor B} & B 
%	\arrow["h", from=1-1, to=1-2]
%	\arrow["\outfun_{B}", from=1-2, to=1-3]
%\end{tikzcd}\]
where $h$ is some homomorphism.
We want to show that $f$ is recognizability reflecting. To prove this, let us consider some recognizable language over the output semigroup 
\begin{align*}
    B \xrightarrow[\;g\;]{} C \xrightarrow[\;\text{accepting set}\;]{} \set{\text{yes, no}}
\end{align*}
where $C$ is a finite semigroup.
%~a composition of some homomorphism from $B$ into a finite semigroup, followed by an arbitrary boolean-valued function
%\[
%\begin{tikzcd}
%    [column sep=2cm]
%B 
%\ar[r,"g"']
%&
%C
%\ar[r,"\text{accepting set}"']
%&
%\set{\text{yes,no}}
%\end{tikzcd}
%\]
We want to show that is inverse image of the language under $f$ is also recognizable. Consider the following diagram. 
\[\begin{tikzcd}
    [column sep=2cm]
	A & {\functor B} & & B \\
	& {\functor C} & & C & \set{\text{yes, no}}\\
    & & D
	\arrow["h", from=1-1, to=1-2]
	\arrow["\outfun_B", from=1-2, to=1-4]
	\arrow["{\functor g}"', from=1-2, to=2-2]
	\arrow["\outfun_C"', from=2-2, to=2-4]
	\arrow["g", from=1-4, to=2-4]
	\arrow["\text{accepting set}"', from=2-4, to=2-5]
    \arrow["\text{some homomorphism}"', from=2-2, to=3-3]
    \arrow["\text{some function}"', from=3-3, to=2-4]
\end{tikzcd}\]
The triangle, with $D$ \emph{finite}, describes  the assumption that the output function $\outfun_C$ is recognizable when $C$ is finite.
The upper path from $A$ to $\set{\text{yes, no}}$ describes the inverse image under $f$. 
 The  rectangle commutes by naturality of the output mechanism, and therefore the upper path describes the same function as the lower path from $A$ to $\set{\text{yes, no}}$. The lower path is a recognizable function, since the first three arrows are semigroup homomorphisms and $D$ is finite.
